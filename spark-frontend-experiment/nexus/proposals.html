<!DOCTYPE html>
<html lang="en" class="dark">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>NEXUS - AI Proposals | Workbook</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700&family=Inter:wght@300;400;500;600&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles/nexus-tokens.css">
  <link rel="stylesheet" href="styles/animations.css">
  <link rel="stylesheet" href="styles/skeleton.css">
  <script src="https://unpkg.com/lucide@latest"></script>
  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          fontFamily: {
            heading: ['Playfair Display', 'Georgia', 'serif'],
            body: ['Inter', 'system-ui', 'sans-serif'],
            mono: ['JetBrains Mono', 'monospace'],
          },
          colors: {
            surface: { DEFAULT: '#161618', dark: '#0C0C0E', ai: '#14141A' },
            border: { DEFAULT: '#232326' },
            txt: { primary: '#EDEDEF', secondary: '#8F8F94', tertiary: '#6B6B70' },
            accent: { DEFAULT: '#4F46E5', hover: '#6366F1' },
            danger: { DEFAULT: '#DC2626' },
            warning: { DEFAULT: '#D97706' },
            success: { DEFAULT: '#059669' },
            gold: { DEFAULT: '#B45309' },
          }
        }
      }
    }
  </script>
  <style>
    body { font-family: 'Inter', system-ui, sans-serif; }
    h1, h2, h3, h4, h5, h6 { font-family: 'Playfair Display', Georgia, serif; }
    .font-data, [data-mono] { font-family: 'JetBrains Mono', monospace; }

    /* Stagger animation */
    @keyframes staggerIn {
      from { opacity: 0; transform: translateY(8px); }
      to { opacity: 1; transform: translateY(0); }
    }
    .stagger { animation: staggerIn 0.3s ease-out forwards; opacity: 0; }
    .stagger-1 { animation-delay: 0.05s; }
    .stagger-2 { animation-delay: 0.1s; }
    .stagger-3 { animation-delay: 0.15s; }
    .stagger-4 { animation-delay: 0.2s; }

    /* Reduced motion */
    @media (prefers-reduced-motion: reduce) {
      *, *::before, *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
      }
    }


    /* Scrollbar */
    ::-webkit-scrollbar { width: 5px; }
    ::-webkit-scrollbar-track { background: #0C0C0E; }
    ::-webkit-scrollbar-thumb { background: #232326; border-radius: 3px; }
    ::-webkit-scrollbar-thumb:hover { background: #3a3a3f; }

    /* Command bar */
    .cmd-bar { transition: box-shadow 0.2s ease, border-color 0.2s ease; }
    .cmd-bar:focus-within {
      border-color: #4F46E5;
      box-shadow: 0 0 0 2px rgba(79, 70, 229, 0.2);
    }

    /* Card base (Meridian) */
    .card { background: #161618; border: 1px solid #232326; border-radius: 4px; }

    /* Filter chip */
    .filter-chip { transition: background-color 0.15s ease, color 0.15s ease, border-color 0.15s ease; }
    .filter-chip:hover { background-color: rgba(255,255,255,0.06); }
    .filter-chip-active { background-color: rgba(79, 70, 229, 0.1); color: #4F46E5; border-color: rgba(79, 70, 229, 0.2); }

    /* Metadata chip (Meridian) */
    .metadata-chip { background: #232326; color: #8F8F94; border-radius: 4px; }

    /* Sidebar nav */
    .nav-item { border-radius: 6px; transition: background-color 0.15s ease; }
    .nav-item:hover { background: rgba(255,255,255,0.04); }
    .nav-active { background: rgba(79,70,229,0.1); }

    /* Proposal card */
    .proposal-card { transition: background-color 0.15s ease, border-color 0.15s ease; }
    .proposal-card:hover { background-color: rgba(255,255,255,0.03); border-color: #2E2E32; }

    /* Collapsible reasoning */
    .reasoning-content { max-height: 0; overflow: hidden; transition: max-height 0.25s ease-out, opacity 0.2s ease; opacity: 0; }
    .reasoning-content.expanded { max-height: 200px; opacity: 1; }

    /* Type badges */
    .badge-action { background: rgba(79, 70, 229, 0.1); color: #6366F1; }
    .badge-follow-up { background: rgba(5, 150, 105, 0.1); color: #059669; }
    .badge-risk { background: rgba(220, 38, 38, 0.1); color: #DC2626; }
    .badge-opportunity { background: rgba(217, 119, 6, 0.1); color: #D97706; }

    /* Agent avatar dots */
    .agent-nova { background: #6366F1; }
    .agent-atlas { background: #059669; }
    .agent-scout { background: #D97706; }
    .agent-sentinel { background: #DC2626; }
    .agent-oracle { background: #2563EB; }
    .agent-spark { background: #EC4899; }

    /* Action buttons */
    .btn-approve { transition: background-color 0.15s ease, color 0.15s ease; }
    .btn-approve:hover { background-color: rgba(5, 150, 105, 0.15); color: #059669; }
    .btn-reject { transition: background-color 0.15s ease, color 0.15s ease; }
    .btn-reject:hover { background-color: rgba(220, 38, 38, 0.15); color: #DC2626; }
    .btn-defer { transition: background-color 0.15s ease, color 0.15s ease; }
    .btn-defer:hover { background-color: rgba(143, 143, 148, 0.15); color: #8F8F94; }

    /* Light mode overrides */
    html:not(.dark) body { background: #F8F8FA; color: #1a1a1e; }
    html:not(.dark) .bg-surface-dark { background: #FFFFFF; }
    html:not(.dark) .bg-surface { background: #F4F4F5; }
    html:not(.dark) .card { background: #FFFFFF; border-color: #E5E5E8; }
    html:not(.dark) .metadata-chip { background: #F0F0F3; color: #6B6B70; }
    html:not(.dark) .filter-chip { border-color: #E5E5E8; }
    html:not(.dark) .filter-chip:hover { background-color: #F0F0F3; }
    html:not(.dark) .filter-chip-active { background-color: rgba(79, 70, 229, 0.08); border-color: rgba(79, 70, 229, 0.2); }
    html:not(.dark) .proposal-card:hover { background-color: rgba(0,0,0,0.02); }
    html:not(.dark) .sidebar-bg { background: #FFFFFF; border-color: #E5E5E8; }
    html:not(.dark) .cmd-bar-bg { background: #FFFFFF; border-color: #E5E5E8; }
    html:not(.dark) .txt-override-primary { color: #1a1a1e; }
    html:not(.dark) .txt-override-secondary { color: #6B6B70; }
    html:not(.dark) .txt-override-tertiary { color: #9C9CA0; }
    html:not(.dark) .content-bg { background: #F8F8FA; }
    html:not(.dark) .section-border { border-color: #E5E5E8; }
  </style>
</head>
<body class="bg-[#0C0C0E] text-[#EDEDEF] font-body min-h-screen flex" data-page-id="proposals">

  <!-- Sidebar - 240px full-width with sections -->
  <aside id="sidebar" class="sidebar-bg w-60 bg-[#0C0C0E] border-r border-[#232326] flex flex-col py-4 px-3 gap-0.5 fixed h-screen z-50 stagger stagger-1 overflow-y-auto">
    <div class="flex items-center gap-2.5 px-2 mb-4">
      <div class="w-8 h-8 rounded-lg bg-[#4F46E5] flex items-center justify-center flex-shrink-0">
        <i data-lucide="hexagon" class="w-4 h-4 text-white"></i>
      </div>
      <span class="font-heading text-base font-semibold text-[#EDEDEF] tracking-tight">NEXUS</span>
    </div>
    <button onclick="document.getElementById('cmdInput')?.focus()" class="nav-item flex items-center gap-2.5 px-2 py-1.5 rounded-md mb-3 group w-full text-left" title="Search (Cmd+K)">
      <i data-lucide="search" class="w-4 h-4 text-[#8F8F94] group-hover:text-[#EDEDEF] flex-shrink-0"></i>
      <span class="text-sm text-[#6B6B70] group-hover:text-[#8F8F94]">Search</span>
      <span class="ml-auto font-mono text-[10px] text-[#6B6B70]/60 bg-[#232326] px-1.5 py-0.5 rounded">Cmd+K</span>
    </button>
    <div class="mb-1">
      <div class="px-2 py-1 text-[10px] font-mono font-semibold text-[#6B6B70] uppercase tracking-widest">Workspace</div>
      <a href="dashboard.html" data-nav-page="dashboard" class="nav-item flex items-center gap-2.5 px-2 py-1.5 rounded-md text-[#8F8F94] hover:text-[#EDEDEF]" title="Dashboard (Cmd+1)"><i data-lucide="layout-dashboard" class="w-4 h-4 flex-shrink-0"></i><span class="text-sm">Dashboard</span></a>
      <a href="calendar.html" data-nav-page="calendar" class="nav-item flex items-center gap-2.5 px-2 py-1.5 rounded-md text-[#8F8F94] hover:text-[#EDEDEF]" title="Calendar"><i data-lucide="calendar" class="w-4 h-4 flex-shrink-0"></i><span class="text-sm">Calendar</span></a>
      <a href="meetings.html" data-nav-page="meetings" class="nav-item flex items-center gap-2.5 px-2 py-1.5 rounded-md text-[#8F8F94] hover:text-[#EDEDEF]" title="Meetings (Cmd+2)"><i data-lucide="users" class="w-4 h-4 flex-shrink-0"></i><span class="text-sm">Meetings</span></a>
      <a href="actions.html" data-nav-page="actions" class="nav-item flex items-center gap-2.5 px-2 py-1.5 rounded-md text-[#8F8F94] hover:text-[#EDEDEF]" title="Actions (Cmd+3)"><i data-lucide="check-square" class="w-4 h-4 flex-shrink-0"></i><span class="text-sm">Actions</span></a>
      <a href="decisions.html" data-nav-page="decisions" class="nav-item flex items-center gap-2.5 px-2 py-1.5 rounded-md text-[#8F8F94] hover:text-[#EDEDEF]" title="Decisions"><i data-lucide="git-branch" class="w-4 h-4 flex-shrink-0"></i><span class="text-sm">Decisions</span></a>
      <a href="proposals.html" data-nav-page="proposals" class="nav-active nav-item flex items-center gap-2.5 px-2 py-1.5 rounded-md text-[#4F46E5]" title="AI Proposals (Cmd+4)"><i data-lucide="sparkles" class="w-4 h-4 flex-shrink-0"></i><span class="text-sm">Proposals</span></a>
      <a href="my-work.html" data-nav-page="my-work" class="nav-item flex items-center gap-2.5 px-2 py-1.5 rounded-md text-[#8F8F94] hover:text-[#EDEDEF]" title="My Work"><i data-lucide="user" class="w-4 h-4 flex-shrink-0"></i><span class="text-sm">My Work</span></a>
      <a href="workspaces.html" data-nav-page="workspaces" class="nav-item flex items-center gap-2.5 px-2 py-1.5 rounded-md text-[#8F8F94] hover:text-[#EDEDEF]" title="Workspaces">
        <i data-lucide="layers" class="w-4 h-4 flex-shrink-0"></i>
        <span class="text-sm">Workspaces</span>
      </a>
    </div>
    <div class="mb-1">
      <div class="px-2 py-1 text-[10px] font-mono font-semibold text-[#6B6B70] uppercase tracking-widest">AI</div>
      <a href="agents.html" data-nav-page="agents" class="nav-item flex items-center gap-2.5 px-2 py-1.5 rounded-md text-[#8F8F94] hover:text-[#EDEDEF]" title="Agent Dashboard"><i data-lucide="bot" class="w-4 h-4 flex-shrink-0"></i><span class="text-sm">Agent Dashboard</span></a>
      <a href="marketplace.html" data-nav-page="marketplace" class="nav-item flex items-center gap-2.5 px-2 py-1.5 rounded-md text-[#8F8F94] hover:text-[#EDEDEF]" title="Marketplace"><i data-lucide="store" class="w-4 h-4 flex-shrink-0"></i><span class="text-sm">Marketplace</span></a>
      <a href="elt-rollup.html" data-nav-page="elt-rollup" class="nav-item flex items-center gap-2.5 px-2 py-1.5 rounded-md text-[#8F8F94] hover:text-[#EDEDEF]" title="ELT Rollup"><i data-lucide="bar-chart-3" class="w-4 h-4 flex-shrink-0"></i><span class="text-sm">ELT Rollup</span></a>
    </div>
    <div class="mb-1">
      <div class="px-2 py-1 text-[10px] font-mono font-semibold text-[#6B6B70] uppercase tracking-widest">Admin</div>
      <a href="connections.html" data-nav-page="connections" class="nav-item flex items-center gap-2.5 px-2 py-1.5 rounded-md text-[#8F8F94] hover:text-[#EDEDEF]" title="Connections"><i data-lucide="plug" class="w-4 h-4 flex-shrink-0"></i><span class="text-sm">Connections</span></a>
      <a href="settings.html" data-nav-page="settings" class="nav-item flex items-center gap-2.5 px-2 py-1.5 rounded-md text-[#8F8F94] hover:text-[#EDEDEF]" title="Settings"><i data-lucide="settings" class="w-4 h-4 flex-shrink-0"></i><span class="text-sm">Settings</span></a>
    </div>
    <div class="flex-1"></div>
    <div class="flex items-center gap-2.5 px-2 py-1.5" title="AI Agent: Online">
      <i data-lucide="bot" class="w-4 h-4 text-[#6B6B70]"></i>
      <span class="text-xs text-[#6B6B70]">AI Agent</span>
      <span class="ml-auto flex items-center gap-1"><span class="w-2 h-2 rounded-full bg-[#059669]"></span><span class="text-[10px] text-[#059669] font-mono">Online</span></span>
    </div>
    <button onclick="document.documentElement.classList.toggle('dark')" class="nav-item flex items-center gap-2.5 px-2 py-1.5 rounded-md text-[#8F8F94] hover:text-[#EDEDEF] w-full text-left" title="Toggle Theme">
      <i data-lucide="sun-moon" class="w-4 h-4 flex-shrink-0"></i><span class="text-sm">Toggle Theme</span>
    </button>
    <div class="flex items-center gap-2.5 px-2 py-1.5 mt-1">
      <div class="w-7 h-7 rounded-full bg-[#232326] flex items-center justify-center flex-shrink-0"><span class="font-mono text-[10px] text-[#8F8F94] font-medium">DH</span></div>
      <span class="text-sm text-[#8F8F94]">David Hayes</span>
    </div>
  </aside>

  <!-- Main content area -->
  <main class="ml-60 flex-1 flex flex-col h-screen overflow-y-auto content-bg">

    <!-- Command Bar -->
    <div class="px-6 py-3 stagger stagger-1">
      <div class="cmd-bar cmd-bar-bg max-w-2xl mx-auto flex items-center gap-2 px-3 py-2 bg-[#161618] border border-[#232326] rounded">
        <i data-lucide="search" class="w-4 h-4 text-[#6B6B70] flex-shrink-0"></i>
        <input id="cmdInput" type="text" placeholder="Search proposals, agents, or type a command..." class="bg-transparent border-none outline-none text-sm text-[#EDEDEF] placeholder-[#6B6B70]/60 flex-1 font-body">
        <kbd class="font-mono text-[10px] text-[#6B6B70]/60 bg-[#232326] px-1.5 py-0.5 rounded">Cmd+K</kbd>
      </div>
    </div>

    <!-- Header -->
    <div class="px-6 pb-3 stagger stagger-2">
      <div class="flex items-end justify-between">
        <div>
          <div class="flex items-center gap-3">
            <h1 class="text-2xl font-heading font-semibold text-[#EDEDEF] tracking-tight">AI Proposals</h1>
            <span class="inline-flex items-center gap-1 px-2 py-0.5 rounded-full bg-[#4F46E5] text-white text-[10px] font-mono font-medium">
              7 New
            </span>
          </div>
          <p class="text-xs text-[#8F8F94] mt-1 font-body">Actions suggested by your AI agents</p>
        </div>
        <!-- Batch buttons -->
        <div class="flex items-center gap-2 mb-1">
          <button onclick="batchApprove()" class="px-3 py-1.5 rounded text-[11px] font-mono border border-[#059669]/30 text-[#059669] hover:bg-[#059669]/10 transition-colors">
            Approve All
          </button>
          <button onclick="batchDismiss()" class="px-3 py-1.5 rounded text-[11px] font-mono border border-[#232326] text-[#8F8F94] hover:bg-white/5 transition-colors">
            Dismiss All
          </button>
        </div>
      </div>
    </div>

    <!-- AI Summary Card -->
    <div class="px-6 pb-3 stagger stagger-2">
      <div class="flex items-start gap-3 px-4 py-3 rounded bg-[#14141A] border border-[#4F46E5]/15">
        <i data-lucide="sparkles" class="w-4 h-4 text-[#4F46E5] flex-shrink-0 mt-0.5"></i>
        <div>
          <p class="text-xs text-[#EDEDEF] leading-relaxed">
            Your AI agents generated <span class="font-mono text-[#4F46E5] font-medium">7 proposals</span> this week based on meeting analysis, CRM signals, and operational patterns. <span class="font-mono text-[#DC2626] font-medium">3 are high priority.</span>
          </p>
        </div>
      </div>
    </div>

    <!-- Filter Bar -->
    <div class="px-6 py-2.5 flex items-center gap-2 stagger stagger-3 flex-wrap">
      <!-- Type filters -->
      <button class="filter-chip filter-chip-active font-mono text-[11px] px-3 py-1 rounded border border-transparent" data-filter="all" onclick="setFilter(this)">All</button>
      <button class="filter-chip font-mono text-[11px] px-3 py-1 rounded border border-[#232326] text-[#8F8F94]" data-filter="action" onclick="setFilter(this)">Actions</button>
      <button class="filter-chip font-mono text-[11px] px-3 py-1 rounded border border-[#232326] text-[#8F8F94]" data-filter="follow-up" onclick="setFilter(this)">Follow-ups</button>
      <button class="filter-chip font-mono text-[11px] px-3 py-1 rounded border border-[#232326] text-[#8F8F94]" data-filter="risk" onclick="setFilter(this)">Risks</button>
      <button class="filter-chip font-mono text-[11px] px-3 py-1 rounded border border-[#232326] text-[#8F8F94]" data-filter="opportunity" onclick="setFilter(this)">Opportunities</button>

      <div class="flex-1"></div>

      <!-- Sort dropdown -->
      <div class="flex items-center gap-1.5">
        <span class="font-mono text-[10px] text-[#6B6B70]">Sort:</span>
        <select id="sortSelect" class="bg-[#161618] border border-[#232326] rounded text-[10px] font-mono text-[#8F8F94] px-2 py-1 outline-none">
          <option value="newest">Newest First</option>
          <option value="urgency">By Urgency</option>
          <option value="type">By Type</option>
        </select>
      </div>
    </div>

    <!-- Proposal List -->
    <div class="px-6 pb-6 space-y-2 stagger stagger-4" id="proposalList">

      <!-- Proposal 1 -->
      <div class="proposal-card card p-4 cursor-pointer" data-type="follow-up" data-urgency="high" data-id="p1">
        <div class="flex items-start gap-3">
          <!-- Agent avatar -->
          <div class="flex-shrink-0 mt-1">
            <div class="w-3 h-3 rounded-full agent-nova" title="Agent: Nova"></div>
          </div>

          <!-- Content -->
          <div class="flex-1 min-w-0">
            <div class="flex items-center gap-2 mb-1">
              <p class="text-base font-medium text-[#EDEDEF] truncate">Schedule follow-up with Acme Corp</p>
              <!-- Urgency dot -->
              <span class="w-2 h-2 rounded-full bg-[#DC2626] flex-shrink-0" title="High urgency"></span>
            </div>

            <!-- Reasoning (collapsible) -->
            <button onclick="toggleReasoning(this)" class="text-[11px] text-[#6B6B70] hover:text-[#8F8F94] font-mono mb-1.5 flex items-center gap-1 transition-colors">
              <i data-lucide="chevron-right" class="w-3 h-3 reasoning-chevron transition-transform"></i>
              Why this suggestion
            </button>
            <div class="reasoning-content text-sm text-[#8F8F94] leading-relaxed mb-2">
              Last contact was 14 days ago. NPS score dropped from 8 to 6 in the latest survey. CRM shows open renewal opportunity in 45 days.
            </div>

            <!-- Metadata row -->
            <div class="flex items-center gap-2 flex-wrap">
              <span class="metadata-chip px-2 py-0.5 text-[10px] font-mono flex items-center gap-1">
                <i data-lucide="database" class="w-2.5 h-2.5"></i>
                From: CRM Analysis
              </span>
              <span class="font-mono text-[10px] px-2 py-0.5 rounded badge-follow-up">Follow-up</span>
            </div>
          </div>

          <!-- Action buttons -->
          <div class="flex items-center gap-1 flex-shrink-0">
            <button onclick="approveProposal(this)" class="btn-approve px-2.5 py-1.5 rounded text-[11px] font-mono text-[#059669]/70 border border-[#059669]/20 flex items-center gap-1" title="Approve">
              <i data-lucide="check" class="w-3 h-3"></i>
              Approve
            </button>
            <button onclick="rejectProposal(this)" class="btn-reject px-2.5 py-1.5 rounded text-[11px] font-mono text-[#DC2626]/70 border border-[#DC2626]/20 flex items-center gap-1" title="Reject">
              <i data-lucide="x" class="w-3 h-3"></i>
              Reject
            </button>
            <button onclick="deferProposal(this)" class="btn-defer px-2.5 py-1.5 rounded text-[11px] font-mono text-[#6B6B70] border border-[#232326] flex items-center gap-1" title="Defer">
              <i data-lucide="clock" class="w-3 h-3"></i>
              Defer
            </button>
          </div>
        </div>
      </div>

      <!-- Proposal 2 -->
      <div class="proposal-card card p-4 cursor-pointer" data-type="action" data-urgency="high" data-id="p2">
        <div class="flex items-start gap-3">
          <div class="flex-shrink-0 mt-1">
            <div class="w-3 h-3 rounded-full agent-atlas" title="Agent: Atlas"></div>
          </div>
          <div class="flex-1 min-w-0">
            <div class="flex items-center gap-2 mb-1">
              <p class="text-base font-medium text-[#EDEDEF] truncate">Update project timeline for Q2 deliverable</p>
              <span class="w-2 h-2 rounded-full bg-[#DC2626] flex-shrink-0" title="High urgency"></span>
            </div>
            <button onclick="toggleReasoning(this)" class="text-[11px] text-[#6B6B70] hover:text-[#8F8F94] font-mono mb-1.5 flex items-center gap-1 transition-colors">
              <i data-lucide="chevron-right" class="w-3 h-3 reasoning-chevron transition-transform"></i>
              Why this suggestion
            </button>
            <div class="reasoning-content text-sm text-[#8F8F94] leading-relaxed mb-2">
              Weekly ops review flagged 3 milestones at risk. Engineering team velocity dropped 15% last sprint. Current timeline shows a 2-week gap.
            </div>
            <div class="flex items-center gap-2 flex-wrap">
              <span class="metadata-chip px-2 py-0.5 text-[10px] font-mono flex items-center gap-1">
                <i data-lucide="calendar" class="w-2.5 h-2.5"></i>
                From: Weekly Ops Review
              </span>
              <span class="font-mono text-[10px] px-2 py-0.5 rounded badge-action">Action</span>
            </div>
          </div>
          <div class="flex items-center gap-1 flex-shrink-0">
            <button onclick="approveProposal(this)" class="btn-approve px-2.5 py-1.5 rounded text-[11px] font-mono text-[#059669]/70 border border-[#059669]/20 flex items-center gap-1">
              <i data-lucide="check" class="w-3 h-3"></i> Approve
            </button>
            <button onclick="rejectProposal(this)" class="btn-reject px-2.5 py-1.5 rounded text-[11px] font-mono text-[#DC2626]/70 border border-[#DC2626]/20 flex items-center gap-1">
              <i data-lucide="x" class="w-3 h-3"></i> Reject
            </button>
            <button onclick="deferProposal(this)" class="btn-defer px-2.5 py-1.5 rounded text-[11px] font-mono text-[#6B6B70] border border-[#232326] flex items-center gap-1">
              <i data-lucide="clock" class="w-3 h-3"></i> Defer
            </button>
          </div>
        </div>
      </div>

      <!-- Proposal 3 -->
      <div class="proposal-card card p-4 cursor-pointer" data-type="opportunity" data-urgency="medium" data-id="p3">
        <div class="flex items-start gap-3">
          <div class="flex-shrink-0 mt-1">
            <div class="w-3 h-3 rounded-full agent-scout" title="Agent: Scout"></div>
          </div>
          <div class="flex-1 min-w-0">
            <div class="flex items-center gap-2 mb-1">
              <p class="text-base font-medium text-[#EDEDEF] truncate">Review pricing for Enterprise tier</p>
              <span class="w-2 h-2 rounded-full bg-[#D97706] flex-shrink-0" title="Medium urgency"></span>
            </div>
            <button onclick="toggleReasoning(this)" class="text-[11px] text-[#6B6B70] hover:text-[#8F8F94] font-mono mb-1.5 flex items-center gap-1 transition-colors">
              <i data-lucide="chevron-right" class="w-3 h-3 reasoning-chevron transition-transform"></i>
              Why this suggestion
            </button>
            <div class="reasoning-content text-sm text-[#8F8F94] leading-relaxed mb-2">
              Sales pipeline review showed 4 enterprise prospects stalled at pricing stage. Competitor analysis indicates our tier is 18% above market average for similar features.
            </div>
            <div class="flex items-center gap-2 flex-wrap">
              <span class="metadata-chip px-2 py-0.5 text-[10px] font-mono flex items-center gap-1">
                <i data-lucide="trending-up" class="w-2.5 h-2.5"></i>
                From: Sales Pipeline Review
              </span>
              <span class="font-mono text-[10px] px-2 py-0.5 rounded badge-opportunity">Opportunity</span>
            </div>
          </div>
          <div class="flex items-center gap-1 flex-shrink-0">
            <button onclick="approveProposal(this)" class="btn-approve px-2.5 py-1.5 rounded text-[11px] font-mono text-[#059669]/70 border border-[#059669]/20 flex items-center gap-1">
              <i data-lucide="check" class="w-3 h-3"></i> Approve
            </button>
            <button onclick="rejectProposal(this)" class="btn-reject px-2.5 py-1.5 rounded text-[11px] font-mono text-[#DC2626]/70 border border-[#DC2626]/20 flex items-center gap-1">
              <i data-lucide="x" class="w-3 h-3"></i> Reject
            </button>
            <button onclick="deferProposal(this)" class="btn-defer px-2.5 py-1.5 rounded text-[11px] font-mono text-[#6B6B70] border border-[#232326] flex items-center gap-1">
              <i data-lucide="clock" class="w-3 h-3"></i> Defer
            </button>
          </div>
        </div>
      </div>

      <!-- Proposal 4 -->
      <div class="proposal-card card p-4 cursor-pointer" data-type="action" data-urgency="high" data-id="p4">
        <div class="flex items-start gap-3">
          <div class="flex-shrink-0 mt-1">
            <div class="w-3 h-3 rounded-full agent-atlas" title="Agent: Atlas"></div>
          </div>
          <div class="flex-1 min-w-0">
            <div class="flex items-center gap-2 mb-1">
              <p class="text-base font-medium text-[#EDEDEF] truncate">Send meeting notes to client team</p>
              <span class="w-2 h-2 rounded-full bg-[#DC2626] flex-shrink-0" title="High urgency"></span>
            </div>
            <button onclick="toggleReasoning(this)" class="text-[11px] text-[#6B6B70] hover:text-[#8F8F94] font-mono mb-1.5 flex items-center gap-1 transition-colors">
              <i data-lucide="chevron-right" class="w-3 h-3 reasoning-chevron transition-transform"></i>
              Why this suggestion
            </button>
            <div class="reasoning-content text-sm text-[#8F8F94] leading-relaxed mb-2">
              Client review meeting concluded 2 hours ago. Meeting notes are auto-generated and awaiting approval. Client team has SLA expectation of same-day delivery.
            </div>
            <div class="flex items-center gap-2 flex-wrap">
              <span class="metadata-chip px-2 py-0.5 text-[10px] font-mono flex items-center gap-1">
                <i data-lucide="users" class="w-2.5 h-2.5"></i>
                From: Client Review Meeting
              </span>
              <span class="font-mono text-[10px] px-2 py-0.5 rounded badge-action">Action</span>
            </div>
          </div>
          <div class="flex items-center gap-1 flex-shrink-0">
            <button onclick="approveProposal(this)" class="btn-approve px-2.5 py-1.5 rounded text-[11px] font-mono text-[#059669]/70 border border-[#059669]/20 flex items-center gap-1">
              <i data-lucide="check" class="w-3 h-3"></i> Approve
            </button>
            <button onclick="rejectProposal(this)" class="btn-reject px-2.5 py-1.5 rounded text-[11px] font-mono text-[#DC2626]/70 border border-[#DC2626]/20 flex items-center gap-1">
              <i data-lucide="x" class="w-3 h-3"></i> Reject
            </button>
            <button onclick="deferProposal(this)" class="btn-defer px-2.5 py-1.5 rounded text-[11px] font-mono text-[#6B6B70] border border-[#232326] flex items-center gap-1">
              <i data-lucide="clock" class="w-3 h-3"></i> Defer
            </button>
          </div>
        </div>
      </div>

      <!-- Proposal 5 -->
      <div class="proposal-card card p-4 cursor-pointer" data-type="risk" data-urgency="medium" data-id="p5">
        <div class="flex items-start gap-3">
          <div class="flex-shrink-0 mt-1">
            <div class="w-3 h-3 rounded-full agent-sentinel" title="Agent: Sentinel"></div>
          </div>
          <div class="flex-1 min-w-0">
            <div class="flex items-center gap-2 mb-1">
              <p class="text-base font-medium text-[#EDEDEF] truncate">Flag compliance deadline for March 15</p>
              <span class="w-2 h-2 rounded-full bg-[#D97706] flex-shrink-0" title="Medium urgency"></span>
            </div>
            <button onclick="toggleReasoning(this)" class="text-[11px] text-[#6B6B70] hover:text-[#8F8F94] font-mono mb-1.5 flex items-center gap-1 transition-colors">
              <i data-lucide="chevron-right" class="w-3 h-3 reasoning-chevron transition-transform"></i>
              Why this suggestion
            </button>
            <div class="reasoning-content text-sm text-[#8F8F94] leading-relaxed mb-2">
              Compliance monitor detected upcoming SOC2 audit preparation deadline. Current progress is at 60% with 4 weeks remaining. Similar audits historically require 6 weeks.
            </div>
            <div class="flex items-center gap-2 flex-wrap">
              <span class="metadata-chip px-2 py-0.5 text-[10px] font-mono flex items-center gap-1">
                <i data-lucide="shield" class="w-2.5 h-2.5"></i>
                From: Compliance Monitor
              </span>
              <span class="font-mono text-[10px] px-2 py-0.5 rounded badge-risk">Risk</span>
            </div>
          </div>
          <div class="flex items-center gap-1 flex-shrink-0">
            <button onclick="approveProposal(this)" class="btn-approve px-2.5 py-1.5 rounded text-[11px] font-mono text-[#059669]/70 border border-[#059669]/20 flex items-center gap-1">
              <i data-lucide="check" class="w-3 h-3"></i> Approve
            </button>
            <button onclick="rejectProposal(this)" class="btn-reject px-2.5 py-1.5 rounded text-[11px] font-mono text-[#DC2626]/70 border border-[#DC2626]/20 flex items-center gap-1">
              <i data-lucide="x" class="w-3 h-3"></i> Reject
            </button>
            <button onclick="deferProposal(this)" class="btn-defer px-2.5 py-1.5 rounded text-[11px] font-mono text-[#6B6B70] border border-[#232326] flex items-center gap-1">
              <i data-lucide="clock" class="w-3 h-3"></i> Defer
            </button>
          </div>
        </div>
      </div>

      <!-- Proposal 6 -->
      <div class="proposal-card card p-4 cursor-pointer" data-type="action" data-urgency="low" data-id="p6">
        <div class="flex items-start gap-3">
          <div class="flex-shrink-0 mt-1">
            <div class="w-3 h-3 rounded-full agent-spark" title="Agent: HR Agent"></div>
          </div>
          <div class="flex-1 min-w-0">
            <div class="flex items-center gap-2 mb-1">
              <p class="text-base font-medium text-[#EDEDEF] truncate">Create onboarding doc for new hire</p>
              <span class="w-2 h-2 rounded-full bg-[#6B6B70] flex-shrink-0" title="Low urgency"></span>
            </div>
            <button onclick="toggleReasoning(this)" class="text-[11px] text-[#6B6B70] hover:text-[#8F8F94] font-mono mb-1.5 flex items-center gap-1 transition-colors">
              <i data-lucide="chevron-right" class="w-3 h-3 reasoning-chevron transition-transform"></i>
              Why this suggestion
            </button>
            <div class="reasoning-content text-sm text-[#8F8F94] leading-relaxed mb-2">
              New hire starting March 3. No onboarding documentation exists for the Solutions Engineering role. Template can be generated from existing Engineering and Sales onboarding docs.
            </div>
            <div class="flex items-center gap-2 flex-wrap">
              <span class="metadata-chip px-2 py-0.5 text-[10px] font-mono flex items-center gap-1">
                <i data-lucide="user-plus" class="w-2.5 h-2.5"></i>
                From: HR Agent
              </span>
              <span class="font-mono text-[10px] px-2 py-0.5 rounded badge-action">Action</span>
            </div>
          </div>
          <div class="flex items-center gap-1 flex-shrink-0">
            <button onclick="approveProposal(this)" class="btn-approve px-2.5 py-1.5 rounded text-[11px] font-mono text-[#059669]/70 border border-[#059669]/20 flex items-center gap-1">
              <i data-lucide="check" class="w-3 h-3"></i> Approve
            </button>
            <button onclick="rejectProposal(this)" class="btn-reject px-2.5 py-1.5 rounded text-[11px] font-mono text-[#DC2626]/70 border border-[#DC2626]/20 flex items-center gap-1">
              <i data-lucide="x" class="w-3 h-3"></i> Reject
            </button>
            <button onclick="deferProposal(this)" class="btn-defer px-2.5 py-1.5 rounded text-[11px] font-mono text-[#6B6B70] border border-[#232326] flex items-center gap-1">
              <i data-lucide="clock" class="w-3 h-3"></i> Defer
            </button>
          </div>
        </div>
      </div>

      <!-- Proposal 7 -->
      <div class="proposal-card card p-4 cursor-pointer" data-type="risk" data-urgency="medium" data-id="p7">
        <div class="flex items-start gap-3">
          <div class="flex-shrink-0 mt-1">
            <div class="w-3 h-3 rounded-full agent-oracle" title="Agent: Analytics Agent"></div>
          </div>
          <div class="flex-1 min-w-0">
            <div class="flex items-center gap-2 mb-1">
              <p class="text-base font-medium text-[#EDEDEF] truncate">Investigate 12% drop in conversion rate</p>
              <span class="w-2 h-2 rounded-full bg-[#D97706] flex-shrink-0" title="Medium urgency"></span>
            </div>
            <button onclick="toggleReasoning(this)" class="text-[11px] text-[#6B6B70] hover:text-[#8F8F94] font-mono mb-1.5 flex items-center gap-1 transition-colors">
              <i data-lucide="chevron-right" class="w-3 h-3 reasoning-chevron transition-transform"></i>
              Why this suggestion
            </button>
            <div class="reasoning-content text-sm text-[#8F8F94] leading-relaxed mb-2">
              Week-over-week conversion rate dropped from 3.4% to 3.0%. Funnel analysis shows the drop is concentrated in the pricing page step. No code deployments correlate with the timing.
            </div>
            <div class="flex items-center gap-2 flex-wrap">
              <span class="metadata-chip px-2 py-0.5 text-[10px] font-mono flex items-center gap-1">
                <i data-lucide="bar-chart-3" class="w-2.5 h-2.5"></i>
                From: Analytics Agent
              </span>
              <span class="font-mono text-[10px] px-2 py-0.5 rounded badge-risk">Risk</span>
            </div>
          </div>
          <div class="flex items-center gap-1 flex-shrink-0">
            <button onclick="approveProposal(this)" class="btn-approve px-2.5 py-1.5 rounded text-[11px] font-mono text-[#059669]/70 border border-[#059669]/20 flex items-center gap-1">
              <i data-lucide="check" class="w-3 h-3"></i> Approve
            </button>
            <button onclick="rejectProposal(this)" class="btn-reject px-2.5 py-1.5 rounded text-[11px] font-mono text-[#DC2626]/70 border border-[#DC2626]/20 flex items-center gap-1">
              <i data-lucide="x" class="w-3 h-3"></i> Reject
            </button>
            <button onclick="deferProposal(this)" class="btn-defer px-2.5 py-1.5 rounded text-[11px] font-mono text-[#6B6B70] border border-[#232326] flex items-center gap-1">
              <i data-lucide="clock" class="w-3 h-3"></i> Defer
            </button>
          </div>
        </div>
      </div>

    </div>
  </main>

  <script>
    // Init Lucide icons
    document.addEventListener('DOMContentLoaded', () => {
      lucide.createIcons();
    });

    // Toggle reasoning collapse
    function toggleReasoning(btn) {
      const content = btn.nextElementSibling;
      const chevron = btn.querySelector('.reasoning-chevron');
      content.classList.toggle('expanded');
      if (content.classList.contains('expanded')) {
        chevron.style.transform = 'rotate(90deg)';
      } else {
        chevron.style.transform = 'rotate(0deg)';
      }
    }

    // Filter proposals by type
    function setFilter(el) {
      const allChips = document.querySelectorAll('.filter-chip');
      allChips.forEach(chip => {
        chip.classList.remove('filter-chip-active');
        chip.classList.add('text-[#8F8F94]');
        if (!chip.classList.contains('border-[#232326]')) {
          chip.classList.add('border-[#232326]');
        }
      });
      el.classList.add('filter-chip-active');
      el.classList.remove('text-[#8F8F94]');
      el.classList.remove('border-[#232326]');
      el.classList.add('border-transparent');

      const filterType = el.getAttribute('data-filter');
      const cards = document.querySelectorAll('.proposal-card');
      cards.forEach(card => {
        if (filterType === 'all' || card.getAttribute('data-type') === filterType) {
          card.style.display = '';
        } else {
          card.style.display = 'none';
        }
      });
    }

    // Approve proposal
    function approveProposal(btn) {
      const card = btn.closest('.proposal-card');
      card.style.opacity = '0.5';
      card.style.borderColor = '#059669';
      card.querySelectorAll('button').forEach(b => b.disabled = true);
      // Add approved indicator
      const indicator = document.createElement('div');
      indicator.className = 'flex items-center gap-1 mt-2 px-2 py-1 rounded bg-[#059669]/10 border border-[#059669]/20';
      indicator.innerHTML = '<span class="font-mono text-[10px] text-[#059669]">Approved</span>';
      card.querySelector('.flex-1').appendChild(indicator);
    }

    // Reject proposal
    function rejectProposal(btn) {
      const card = btn.closest('.proposal-card');
      card.style.opacity = '0.3';
      card.querySelectorAll('button').forEach(b => b.disabled = true);
    }

    // Defer proposal
    function deferProposal(btn) {
      const card = btn.closest('.proposal-card');
      card.style.opacity = '0.6';
      card.querySelectorAll('button').forEach(b => b.disabled = true);
      const indicator = document.createElement('div');
      indicator.className = 'flex items-center gap-1 mt-2 px-2 py-1 rounded bg-[#232326] border border-[#232326]';
      indicator.innerHTML = '<span class="font-mono text-[10px] text-[#8F8F94]">Deferred</span>';
      card.querySelector('.flex-1').appendChild(indicator);
    }

    // Batch approve
    function batchApprove() {
      document.querySelectorAll('.proposal-card').forEach(card => {
        if (card.style.opacity !== '0.3' && card.style.opacity !== '0.5' && card.style.opacity !== '0.6') {
          const approveBtn = card.querySelector('.btn-approve');
          if (approveBtn && !approveBtn.disabled) {
            approveProposal(approveBtn);
          }
        }
      });
    }

    // Batch dismiss
    function batchDismiss() {
      document.querySelectorAll('.proposal-card').forEach(card => {
        if (card.style.opacity !== '0.3' && card.style.opacity !== '0.5' && card.style.opacity !== '0.6') {
          const rejectBtn = card.querySelector('.btn-reject');
          if (rejectBtn && !rejectBtn.disabled) {
            rejectProposal(rejectBtn);
          }
        }
      });
    }

    // Keyboard shortcuts
    document.addEventListener('keydown', (e) => {
      if ((e.metaKey || e.ctrlKey) && e.key === 'k') {
        e.preventDefault();
        document.getElementById('cmdInput').focus();
      }
      if ((e.metaKey || e.ctrlKey) && e.key === '1') {
        e.preventDefault();
        window.location.href = 'dashboard.html';
      }
      if ((e.metaKey || e.ctrlKey) && e.key === '2') {
        e.preventDefault();
        window.location.href = 'meetings.html';
      }
      if ((e.metaKey || e.ctrlKey) && e.key === '3') {
        e.preventDefault();
        window.location.href = 'actions.html';
      }
      if ((e.metaKey || e.ctrlKey) && e.key === '4') {
        e.preventDefault();
        window.location.href = 'proposals.html';
      }
    });
  </script>
  <script type="module" src="components/page-init.js"></script>
  <script type="module" src="demo/init.js"></script>
</body>
</html>