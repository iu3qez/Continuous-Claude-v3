<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Nexus Onboarding - Your First Insights</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="../styles/nexus-tokens.css">
  <link rel="stylesheet" href="../styles/interactions.css">
  <link rel="stylesheet" href="../styles/animations.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Playfair+Display:wght@400;600;700&family=JetBrains+Mono:wght@400;600&display=swap" rel="stylesheet">
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }

    body {
      font-family: 'Inter', sans-serif;
      background: #0C0C0E;
      color: #E8E8EA;
      overflow: hidden;
    }

    .insight-card {
      opacity: 0;
      transform: translateY(12px);
      transition: opacity 0.5s ease, transform 0.5s ease;
    }
    .insight-card.visible {
      opacity: 1;
      transform: translateY(0);
    }

    .typing-cursor {
      display: inline-block;
      width: 2px;
      height: 1em;
      background: #6366F1;
      margin-left: 2px;
      animation: blink 0.8s step-end infinite;
      vertical-align: text-bottom;
    }
    @keyframes blink {
      50% { opacity: 0; }
    }

    .dashboard-element {
      opacity: 0;
      transform: scale(0.96);
      transition: opacity 0.4s ease, transform 0.4s ease;
    }
    .dashboard-element.visible {
      opacity: 1;
      transform: scale(1);
    }

    .metric-number {
      font-family: 'JetBrains Mono', monospace;
      font-weight: 600;
    }

    .glow-border {
      box-shadow: 0 0 0 1px rgba(99, 102, 241, 0.2), 0 0 30px rgba(99, 102, 241, 0.05);
    }

    .follow-up-input {
      opacity: 0;
      transform: translateY(10px);
      transition: opacity 0.4s ease, transform 0.4s ease;
    }
    .follow-up-input.visible {
      opacity: 1;
      transform: translateY(0);
    }

    .ready-button {
      opacity: 0;
      transform: translateY(10px);
      transition: opacity 0.5s ease, transform 0.5s ease;
    }
    .ready-button.visible {
      opacity: 1;
      transform: translateY(0);
    }

    .particle {
      position: absolute;
      width: 3px;
      height: 3px;
      border-radius: 50%;
      background: rgba(99, 102, 241, 0.4);
      pointer-events: none;
      animation: float-particle 3s ease-in-out infinite;
    }
    @keyframes float-particle {
      0%, 100% { transform: translateY(0) translateX(0); opacity: 0.4; }
      50% { transform: translateY(-20px) translateX(10px); opacity: 0.8; }
    }
  </style>
</head>
<body>
  <!-- Main Container -->
  <div class="h-screen flex flex-col">
    <!-- Progress Dots -->
    <div class="flex justify-center items-center gap-2 pt-12 pb-6">
      <div class="w-2 h-2 rounded-full bg-blue-500"></div>
      <div class="w-2 h-2 rounded-full bg-blue-500"></div>
      <div class="w-2 h-2 rounded-full bg-blue-500"></div>
      <div class="w-2 h-2 rounded-full bg-blue-500"></div>
      <div class="w-2 h-2 rounded-full bg-blue-500"></div>
      <div class="w-2 h-2 rounded-full bg-blue-500"></div>
    </div>

    <!-- Split Layout -->
    <div class="flex-1 flex min-h-0">

      <!-- LEFT SIDE (55%): AI Insights -->
      <div class="w-[55%] flex flex-col px-12 py-6 overflow-y-auto">
        <!-- AI Header -->
        <div id="ai-header" class="insight-card mb-6">
          <div class="flex items-center gap-3 mb-2">
            <div class="w-8 h-8 rounded-full bg-indigo-600 flex items-center justify-center">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M12 2L2 7l10 5 10-5-10-5z"/><path d="M2 17l10 5 10-5"/><path d="M2 12l10 5 10-5"/>
              </svg>
            </div>
            <div>
              <span class="text-sm font-medium text-indigo-400">Workbook AI</span>
              <span class="text-xs text-gray-500 ml-2">analyzing your data...</span>
            </div>
          </div>
          <p id="ai-intro" class="text-gray-300 text-sm leading-relaxed"></p>
        </div>

        <!-- Insight 1: Operational -->
        <div id="insight-1" class="insight-card mb-4">
          <div class="rounded-lg border border-gray-800 bg-[#14141A] p-4 glow-border">
            <div class="flex items-start gap-3">
              <div class="w-8 h-8 rounded-lg bg-amber-500/10 flex items-center justify-center flex-shrink-0 mt-0.5">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#F59E0B" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <circle cx="12" cy="12" r="10"/><line x1="12" y1="8" x2="12" y2="12"/><line x1="12" y1="16" x2="12.01" y2="16"/>
                </svg>
              </div>
              <div class="flex-1 min-w-0">
                <div class="flex items-center gap-2 mb-1.5">
                  <span class="text-xs font-medium text-amber-400 bg-amber-500/10 px-2 py-0.5 rounded">Operational</span>
                </div>
                <p id="insight-1-text" class="text-sm text-gray-200 leading-relaxed"></p>
                <a href="#" class="text-xs text-indigo-400 hover:text-indigo-300 mt-2 inline-block">View in Actions &rarr;</a>
              </div>
            </div>
          </div>
        </div>

        <!-- Insight 2: Financial Risk -->
        <div id="insight-2" class="insight-card mb-4">
          <div class="rounded-lg border border-gray-800 bg-[#14141A] p-4 glow-border">
            <div class="flex items-start gap-3">
              <div class="w-8 h-8 rounded-lg bg-red-500/10 flex items-center justify-center flex-shrink-0 mt-0.5">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#EF4444" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <path d="M10.29 3.86L1.82 18a2 2 0 001.71 3h16.94a2 2 0 001.71-3L13.71 3.86a2 2 0 00-3.42 0z"/><line x1="12" y1="9" x2="12" y2="13"/><line x1="12" y1="17" x2="12.01" y2="17"/>
                </svg>
              </div>
              <div class="flex-1 min-w-0">
                <div class="flex items-center gap-2 mb-1.5">
                  <span class="text-xs font-medium text-red-400 bg-red-500/10 px-2 py-0.5 rounded">Financial Risk</span>
                </div>
                <p id="insight-2-text" class="text-sm text-gray-200 leading-relaxed"></p>
                <a href="#" class="text-xs text-indigo-400 hover:text-indigo-300 mt-2 inline-block">View Pipeline &rarr;</a>
              </div>
            </div>
          </div>
        </div>

        <!-- Insight 3: Strategic Opportunity -->
        <div id="insight-3" class="insight-card mb-4">
          <div class="rounded-lg border border-gray-800 bg-[#14141A] p-4 glow-border">
            <div class="flex items-start gap-3">
              <div class="w-8 h-8 rounded-lg bg-indigo-500/10 flex items-center justify-center flex-shrink-0 mt-0.5">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#818CF8" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/>
                </svg>
              </div>
              <div class="flex-1 min-w-0">
                <div class="flex items-center gap-2 mb-1.5">
                  <span class="text-xs font-medium text-indigo-400 bg-indigo-500/10 px-2 py-0.5 rounded">Strategic Opportunity</span>
                </div>
                <p id="insight-3-text" class="text-sm text-gray-200 leading-relaxed"></p>
                <a href="#" class="text-xs text-indigo-400 hover:text-indigo-300 mt-2 inline-block">View Meeting &rarr;</a>
              </div>
            </div>
          </div>
        </div>

        <!-- Follow-up Input -->
        <div id="follow-up" class="follow-up-input mt-2">
          <div class="rounded-lg border border-gray-700 bg-[#14141A] p-3 flex items-center gap-3">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#6366F1" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M12 2L2 7l10 5 10-5-10-5z"/><path d="M2 17l10 5 10-5"/><path d="M2 12l10 5 10-5"/>
            </svg>
            <input type="text" placeholder="Ask me anything about your business..." class="flex-1 bg-transparent border-none outline-none text-sm text-gray-200 placeholder-gray-500">
            <kbd class="text-[10px] text-gray-500 bg-gray-800 px-1.5 py-0.5 rounded border border-gray-700">Enter</kbd>
          </div>
        </div>
      </div>

      <!-- RIGHT SIDE (45%): Dashboard Assembly -->
      <div class="w-[45%] flex items-center justify-center px-8 py-6 relative overflow-hidden">
        <!-- Particle effects container -->
        <div id="particles" class="absolute inset-0 pointer-events-none"></div>

        <!-- Dashboard mockup -->
        <div class="w-full max-w-md relative">
          <!-- Dashboard shell -->
          <div id="dash-shell" class="dashboard-element rounded-xl border border-gray-800 bg-[#161618] overflow-hidden shadow-2xl">
            <!-- Sidebar mock -->
            <div class="flex">
              <div id="dash-sidebar" class="dashboard-element w-12 bg-[#0C0C0E] border-r border-gray-800 py-4 flex flex-col items-center gap-3">
                <div class="w-6 h-6 rounded-md bg-indigo-600"></div>
                <div class="w-1 h-1 rounded-full bg-gray-700 my-1"></div>
                <div id="nav-1" class="dashboard-element w-6 h-6 rounded bg-gray-800"></div>
                <div id="nav-2" class="dashboard-element w-6 h-6 rounded bg-gray-800"></div>
                <div id="nav-3" class="dashboard-element w-6 h-6 rounded bg-gray-800"></div>
                <div id="nav-4" class="dashboard-element w-6 h-6 rounded bg-gray-800"></div>
                <div id="nav-5" class="dashboard-element w-6 h-6 rounded bg-gray-800"></div>
              </div>

              <!-- Main content area -->
              <div class="flex-1 p-4 space-y-3">
                <!-- Greeting -->
                <div id="dash-greeting" class="dashboard-element">
                  <div class="text-[10px] text-gray-500">Good morning, Jay</div>
                  <div class="text-xs font-semibold text-gray-200 mt-0.5">Executive Dashboard</div>
                </div>

                <!-- Metrics row -->
                <div id="dash-metrics" class="dashboard-element grid grid-cols-3 gap-2">
                  <div class="bg-[#1C1C1F] rounded-md p-2 border border-gray-800">
                    <div class="text-[9px] text-gray-500">Actions</div>
                    <div class="metric-number text-sm text-gray-100" data-target="23">0</div>
                  </div>
                  <div class="bg-[#1C1C1F] rounded-md p-2 border border-gray-800">
                    <div class="text-[9px] text-gray-500">Meetings</div>
                    <div class="metric-number text-sm text-gray-100" data-target="8">0</div>
                  </div>
                  <div class="bg-[#1C1C1F] rounded-md p-2 border border-gray-800">
                    <div class="text-[9px] text-gray-500">Decisions</div>
                    <div class="metric-number text-sm text-gray-100" data-target="5">0</div>
                  </div>
                </div>

                <!-- AI Briefing card -->
                <div id="dash-briefing" class="dashboard-element bg-[#14141A] rounded-md p-3 border border-indigo-500/20">
                  <div class="flex items-center gap-1.5 mb-1.5">
                    <div class="w-4 h-4 rounded-full bg-indigo-600 flex items-center justify-center">
                      <svg width="8" height="8" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="3"><path d="M12 2L2 7l10 5 10-5-10-5z"/></svg>
                    </div>
                    <span class="text-[9px] font-medium text-indigo-400">AI Briefing</span>
                  </div>
                  <p id="dash-briefing-text" class="text-[9px] text-gray-400 leading-relaxed"></p>
                </div>

                <!-- Meeting cards -->
                <div id="dash-meetings" class="dashboard-element space-y-1.5">
                  <div class="text-[9px] text-gray-500 font-medium">Today's Meetings</div>
                  <div class="bg-[#1C1C1F] rounded p-2 border border-gray-800 flex items-center gap-2">
                    <div class="w-1.5 h-6 rounded-full bg-orange-500"></div>
                    <div>
                      <div class="text-[9px] text-gray-200">OPS Weekly Standup</div>
                      <div class="text-[8px] text-gray-500">10:00 AM - 4 attendees</div>
                    </div>
                  </div>
                  <div class="bg-[#1C1C1F] rounded p-2 border border-gray-800 flex items-center gap-2">
                    <div class="w-1.5 h-6 rounded-full bg-red-500"></div>
                    <div>
                      <div class="text-[9px] text-gray-200">Emergency: Campaign Blocker</div>
                      <div class="text-[8px] text-gray-500">11:00 AM - 6 attendees</div>
                    </div>
                  </div>
                  <div class="bg-[#1C1C1F] rounded p-2 border border-gray-800 flex items-center gap-2">
                    <div class="w-1.5 h-6 rounded-full bg-blue-500"></div>
                    <div>
                      <div class="text-[9px] text-gray-200">Client: Acme Corp Check-in</div>
                      <div class="text-[8px] text-gray-500">3:00 PM - 3 attendees</div>
                    </div>
                  </div>
                </div>

                <!-- Action items -->
                <div id="dash-actions" class="dashboard-element space-y-1.5">
                  <div class="text-[9px] text-gray-500 font-medium">Overdue Actions</div>
                  <div class="flex items-center gap-2 text-[9px]">
                    <div class="w-3 h-3 rounded border border-red-500/50 flex items-center justify-center">
                      <div class="w-1.5 h-1.5 rounded-sm bg-red-500"></div>
                    </div>
                    <span class="text-gray-300">Review Acme Corp contract terms</span>
                  </div>
                  <div class="flex items-center gap-2 text-[9px]">
                    <div class="w-3 h-3 rounded border border-red-500/50 flex items-center justify-center">
                      <div class="w-1.5 h-1.5 rounded-sm bg-red-500"></div>
                    </div>
                    <span class="text-gray-300">Submit Q2 budget variance report</span>
                  </div>
                  <div class="flex items-center gap-2 text-[9px]">
                    <div class="w-3 h-3 rounded border border-amber-500/50 flex items-center justify-center">
                      <div class="w-1.5 h-1.5 rounded-sm bg-amber-500"></div>
                    </div>
                    <span class="text-gray-300">Follow up with Globex proposal</span>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- "Your workspace is ready" button below dashboard -->
          <div id="ready-cta" class="ready-button mt-6 text-center">
            <a href="../dashboard.html" class="inline-flex items-center gap-2 px-6 py-3 bg-indigo-600 hover:bg-indigo-500 text-white text-sm font-medium rounded-lg transition-colors">
              Your workspace is ready
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <line x1="5" y1="12" x2="19" y2="12"/><polyline points="12 5 19 12 12 19"/>
              </svg>
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    // Typing animation helper
    function typeText(element, text, speed = 30) {
      return new Promise(resolve => {
        let i = 0;
        const cursor = document.createElement('span');
        cursor.className = 'typing-cursor';
        element.textContent = '';
        element.appendChild(cursor);

        function type() {
          if (i < text.length) {
            cursor.before(document.createTextNode(text[i]));
            i++;
            setTimeout(type, speed);
          } else {
            setTimeout(() => {
              cursor.remove();
              resolve();
            }, 400);
          }
        }
        type();
      });
    }

    // Count-up animation
    function animateCount(element, target, duration = 1200) {
      const start = performance.now();
      function update(now) {
        const elapsed = now - start;
        const progress = Math.min(elapsed / duration, 1);
        const eased = 1 - Math.pow(1 - progress, 3);
        element.textContent = Math.round(eased * target);
        if (progress < 1) requestAnimationFrame(update);
      }
      requestAnimationFrame(update);
    }

    // Create floating particles
    function spawnParticles() {
      const container = document.getElementById('particles');
      for (let i = 0; i < 12; i++) {
        const particle = document.createElement('div');
        particle.className = 'particle';
        particle.style.left = Math.random() * 100 + '%';
        particle.style.top = Math.random() * 100 + '%';
        particle.style.animationDelay = (Math.random() * 3) + 's';
        particle.style.animationDuration = (2 + Math.random() * 2) + 's';
        container.appendChild(particle);
      }
    }

    // Show dashboard element with delay
    function showDashElement(id, delay) {
      setTimeout(() => {
        const el = document.getElementById(id);
        if (el) el.classList.add('visible');
      }, delay);
    }

    // Main animation sequence
    async function runSequence() {
      const reducedMotion = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
      const typeSpeed = reducedMotion ? 0 : 25;

      // Phase 1: AI header appears (0s)
      document.getElementById('ai-header').classList.add('visible');
      await typeText(
        document.getElementById('ai-intro'),
        "I've finished scanning your connected tools. Here's what I found that needs your attention:",
        typeSpeed
      );

      // Phase 2: Dashboard shell starts assembling (1s offset)
      spawnParticles();
      showDashElement('dash-shell', 0);
      showDashElement('dash-sidebar', 300);
      showDashElement('nav-1', 500);
      showDashElement('nav-2', 600);
      showDashElement('nav-3', 700);
      showDashElement('nav-4', 800);
      showDashElement('nav-5', 900);

      // Phase 3: Insight 1 - Operational (after intro typing)
      await new Promise(r => setTimeout(r, 600));
      document.getElementById('insight-1').classList.add('visible');
      await typeText(
        document.getElementById('insight-1-text'),
        "I noticed 3 action items from last week's OPS meeting haven't been assigned yet. These are blocking the campaign launch timeline. Recommend assigning to Sarah Chen's team today.",
        typeSpeed
      );

      // Dashboard greeting + metrics appear
      showDashElement('dash-greeting', 0);
      showDashElement('dash-metrics', 300);
      setTimeout(() => {
        document.querySelectorAll('#dash-metrics .metric-number').forEach(el => {
          animateCount(el, parseInt(el.dataset.target));
        });
      }, 500);

      // Phase 4: Insight 2 - Financial Risk
      await new Promise(r => setTimeout(r, 400));
      document.getElementById('insight-2').classList.add('visible');
      await typeText(
        document.getElementById('insight-2-text'),
        "Your Q2 pipeline has a $180K gap compared to target. Two deals marked 'likely' haven't been updated in 14 days. I've flagged these for the BD team's review.",
        typeSpeed
      );

      // Dashboard briefing + meetings appear
      showDashElement('dash-briefing', 0);
      await new Promise(r => setTimeout(r, 200));
      typeText(
        document.getElementById('dash-briefing-text'),
        "3 overdue actions need attention. Emergency meeting at 11 AM regarding campaign blocker. Acme Corp check-in at 3 PM - contract review still pending.",
        reducedMotion ? 0 : 15
      );
      showDashElement('dash-meetings', 400);

      // Phase 5: Insight 3 - Strategic Opportunity
      await new Promise(r => setTimeout(r, 400));
      document.getElementById('insight-3').classList.add('visible');
      await typeText(
        document.getElementById('insight-3-text'),
        "Cross-referencing your calendar and CRM: you have a meeting with Acme Corp tomorrow, but their last support ticket (unresolved) hasn't been flagged to Sales. I've created a prep brief.",
        typeSpeed
      );

      // Dashboard actions appear
      showDashElement('dash-actions', 200);

      // Phase 6: Follow-up input + CTA
      await new Promise(r => setTimeout(r, 600));
      document.getElementById('follow-up').classList.add('visible');
      document.getElementById('ready-cta').classList.add('visible');
    }

    // Start the sequence after a brief pause
    setTimeout(runSequence, 500);
  </script>
    <script type="module" src="../demo/init.js"></script>
</body>
</html>
