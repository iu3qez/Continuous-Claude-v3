<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Connect Your Tools - Nexus Onboarding</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="../styles/nexus-tokens.css">
  <link rel="stylesheet" href="../styles/interactions.css">
  <link rel="stylesheet" href="../styles/animations.css">
  <link rel="stylesheet" href="../styles/oauth-screens.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
</head>
<body class="bg-gray-950 text-white min-h-screen font-['Inter']">

  <div class="max-w-[900px] mx-auto px-6 py-12">

    <!-- Progress Dots -->
    <div class="flex items-center justify-center gap-3 mb-12">
      <div class="w-2 h-2 rounded-full bg-accent"></div>
      <div class="w-2 h-2 rounded-full bg-accent"></div>
      <div class="w-2 h-2 rounded-full bg-accent"></div>
      <div class="w-2 h-2 rounded-full bg-accent"></div>
      <div class="w-2 h-2 rounded-full bg-gray-700"></div>
      <div class="w-2 h-2 rounded-full bg-gray-700"></div>
    </div>

    <!-- Header -->
    <div class="text-center mb-12">
      <h1 class="font-['Playfair_Display'] text-4xl md:text-5xl font-bold mb-4">
        Connect Your Tools
      </h1>
      <p class="text-txt-secondary text-lg">
        One-click OAuth. We never store your passwords.
      </p>
    </div>

    <!-- AI Narration Box -->
    <div class="bg-gray-900 border border-gray-800 rounded-lg p-6 mb-8 ai-narration-box">
      <div class="flex items-start gap-3">
        <div class="w-10 h-10 rounded-full bg-accent/20 flex items-center justify-center flex-shrink-0">
          <svg class="w-5 h-5 text-accent" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path>
          </svg>
        </div>
        <div class="flex-1">
          <p class="text-txt-secondary leading-relaxed" id="aiNarration">
            Each connection takes about 10 seconds. Your data stays encrypted and you can disconnect any time.
          </p>
        </div>
      </div>
    </div>

    <!-- Tool Grid -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">

      <!-- Salesforce -->
      <div class="tool-card bg-gray-900 border border-gray-800 rounded-lg p-6" data-tool="salesforce">
        <div class="flex items-start justify-between mb-4">
          <div>
            <h3 class="text-lg font-semibold mb-1">Salesforce</h3>
            <p class="text-sm text-txt-tertiary">CRM</p>
          </div>
          <div class="w-12 h-12 rounded bg-blue-600 flex items-center justify-center">
            <svg class="w-6 h-6 text-white" fill="currentColor" viewBox="0 0 24 24">
              <path d="M12 2L2 7v10c0 5.5 3.8 10.7 10 12 6.2-1.3 10-6.5 10-12V7l-10-5z"></path>
            </svg>
          </div>
        </div>
        <div class="status-indicator mb-4">
          <span class="text-sm text-txt-tertiary">Not Connected</span>
        </div>
        <div class="action-buttons">
          <button class="connect-btn w-full bg-accent hover:bg-accent/90 text-white font-medium py-2.5 px-4 rounded transition-colors">
            Connect
          </button>
          <button class="skip-btn hidden text-sm text-txt-tertiary hover:text-txt-secondary mt-2">Skip</button>
        </div>
      </div>

      <!-- Slack -->
      <div class="tool-card bg-gray-900 border border-gray-800 rounded-lg p-6" data-tool="slack">
        <div class="flex items-start justify-between mb-4">
          <div>
            <h3 class="text-lg font-semibold mb-1">Slack</h3>
            <p class="text-sm text-txt-tertiary">Communication</p>
          </div>
          <div class="w-12 h-12 rounded bg-purple-600 flex items-center justify-center">
            <svg class="w-6 h-6 text-white" fill="currentColor" viewBox="0 0 24 24">
              <path d="M8 3v2H6c-1.1 0-2 .9-2 2v2h2c1.1 0 2-.9 2-2V3zM18 3v4c0 1.1.9 2 2 2h2V7c0-1.1-.9-2-2-2h-2zM8 21v-4c0-1.1-.9-2-2-2H4v2c0 1.1.9 2 2 2h2zM18 21v-2h2c1.1 0 2-.9 2-2v-2h-2c-1.1 0-2 .9-2 2v4z"></path>
            </svg>
          </div>
        </div>
        <div class="status-indicator mb-4">
          <span class="text-sm text-txt-tertiary">Not Connected</span>
        </div>
        <div class="action-buttons">
          <button class="connect-btn w-full bg-accent hover:bg-accent/90 text-white font-medium py-2.5 px-4 rounded transition-colors">
            Connect
          </button>
          <button class="skip-btn hidden text-sm text-txt-tertiary hover:text-txt-secondary mt-2">Skip</button>
        </div>
      </div>

      <!-- Google Workspace -->
      <div class="tool-card bg-gray-900 border border-gray-800 rounded-lg p-6" data-tool="google">
        <div class="flex items-start justify-between mb-4">
          <div>
            <h3 class="text-lg font-semibold mb-1">Google Workspace</h3>
            <p class="text-sm text-txt-tertiary">Docs & Drive</p>
          </div>
          <div class="w-12 h-12 rounded bg-red-600 flex items-center justify-center">
            <svg class="w-6 h-6 text-white" fill="currentColor" viewBox="0 0 24 24">
              <path d="M14 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z"></path>
            </svg>
          </div>
        </div>
        <div class="status-indicator mb-4">
          <span class="text-sm text-txt-tertiary">Not Connected</span>
        </div>
        <div class="action-buttons">
          <button class="connect-btn w-full bg-accent hover:bg-accent/90 text-white font-medium py-2.5 px-4 rounded transition-colors">
            Connect
          </button>
          <button class="skip-btn hidden text-sm text-txt-tertiary hover:text-txt-secondary mt-2">Skip</button>
        </div>
      </div>

      <!-- Jira -->
      <div class="tool-card bg-gray-900 border border-gray-800 rounded-lg p-6" data-tool="jira">
        <div class="flex items-start justify-between mb-4">
          <div>
            <h3 class="text-lg font-semibold mb-1">Jira</h3>
            <p class="text-sm text-txt-tertiary">Project Management</p>
          </div>
          <div class="w-12 h-12 rounded bg-blue-500 flex items-center justify-center">
            <svg class="w-6 h-6 text-white" fill="currentColor" viewBox="0 0 24 24">
              <path d="M12 2L2 12l10 10 10-10L12 2zm0 14.5L7.5 12 12 7.5l4.5 4.5-4.5 4.5z"></path>
            </svg>
          </div>
        </div>
        <div class="status-indicator mb-4">
          <span class="text-sm text-txt-tertiary">Not Connected</span>
        </div>
        <div class="action-buttons">
          <button class="connect-btn w-full bg-accent hover:bg-accent/90 text-white font-medium py-2.5 px-4 rounded transition-colors">
            Connect
          </button>
          <button class="skip-btn hidden text-sm text-txt-tertiary hover:text-txt-secondary mt-2">Skip</button>
        </div>
      </div>

      <!-- QuickBooks -->
      <div class="tool-card bg-gray-900 border border-gray-800 rounded-lg p-6" data-tool="quickbooks">
        <div class="flex items-start justify-between mb-4">
          <div>
            <h3 class="text-lg font-semibold mb-1">QuickBooks</h3>
            <p class="text-sm text-txt-tertiary">Accounting</p>
          </div>
          <div class="w-12 h-12 rounded bg-green-600 flex items-center justify-center">
            <svg class="w-6 h-6 text-white" fill="currentColor" viewBox="0 0 24 24">
              <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"></path>
            </svg>
          </div>
        </div>
        <div class="status-indicator mb-4">
          <span class="text-sm text-txt-tertiary">Not Connected</span>
        </div>
        <div class="action-buttons">
          <button class="connect-btn w-full bg-accent hover:bg-accent/90 text-white font-medium py-2.5 px-4 rounded transition-colors">
            Connect
          </button>
          <button class="skip-btn hidden text-sm text-txt-tertiary hover:text-txt-secondary mt-2">Skip</button>
        </div>
      </div>

      <!-- Google Calendar -->
      <div class="tool-card bg-gray-900 border border-gray-800 rounded-lg p-6" data-tool="calendar">
        <div class="flex items-start justify-between mb-4">
          <div>
            <h3 class="text-lg font-semibold mb-1">Google Calendar</h3>
            <p class="text-sm text-txt-tertiary">Calendar</p>
          </div>
          <div class="w-12 h-12 rounded bg-orange-600 flex items-center justify-center">
            <svg class="w-6 h-6 text-white" fill="currentColor" viewBox="0 0 24 24">
              <path d="M19 3h-1V1h-2v2H8V1H6v2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11z"></path>
            </svg>
          </div>
        </div>
        <div class="status-indicator mb-4">
          <span class="text-sm text-txt-tertiary">Not Connected</span>
        </div>
        <div class="action-buttons">
          <button class="connect-btn w-full bg-accent hover:bg-accent/90 text-white font-medium py-2.5 px-4 rounded transition-colors">
            Connect
          </button>
          <button class="skip-btn hidden text-sm text-txt-tertiary hover:text-txt-secondary mt-2">Skip</button>
        </div>
      </div>

    </div>

    <!-- Skip All Link -->
    <div class="text-center mb-12">
      <button id="skipAllBtn" class="text-txt-tertiary hover:text-txt-secondary text-sm transition-colors">
        Skip all - use sample data
      </button>
    </div>

    <!-- Navigation -->
    <div class="flex items-center justify-between">
      <a href="step-3-tools.html" class="text-txt-secondary hover:text-white transition-colors flex items-center gap-2">
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
        </svg>
        Back
      </a>
      <button id="nextBtn" disabled class="bg-gray-700 text-gray-500 font-medium py-2.5 px-8 rounded transition-all cursor-not-allowed">
        Next
      </button>
    </div>

  </div>

  <script>
    let connectedCount = 0;
    const totalTools = 6;
    const nextBtn = document.getElementById('nextBtn');
    const skipAllBtn = document.getElementById('skipAllBtn');
    const aiNarration = document.getElementById('aiNarration');

    const toolMessages = {
      salesforce: "Great! Salesforce connected. I can already see 342 contacts and 89 active deals.",
      slack: "Slack connected. I found 12 channels and 47 direct messages to analyze.",
      google: "Google Workspace connected. I have access to 234 documents and 18 shared folders.",
      jira: "Jira connected. I see 56 active tickets and 8 sprint boards.",
      quickbooks: "QuickBooks connected. I can now track invoices, expenses, and financial reports.",
      calendar: "Google Calendar connected. I've synced your upcoming meetings and events."
    };

    // Connect button handlers
    document.querySelectorAll('.connect-btn').forEach(btn => {
      btn.addEventListener('click', function() {
        const card = this.closest('.tool-card');
        const toolName = card.dataset.tool;
        simulateOAuth(card, toolName);
      });
    });

    // Skip all handler
    skipAllBtn.addEventListener('click', function() {
      aiNarration.textContent = "No problem! I'll use sample data to show you how Nexus works. You can connect real tools anytime.";
      enableNext();
    });

    function simulateOAuth(card, toolName) {
      const connectBtn = card.querySelector('.connect-btn');
      const statusIndicator = card.querySelector('.status-indicator span');

      // Disable button and show connecting state
      connectBtn.disabled = true;
      connectBtn.textContent = 'Connecting...';
      connectBtn.classList.add('opacity-50');

      // Show progress
      statusIndicator.textContent = 'Authorizing...';
      statusIndicator.classList.remove('text-txt-tertiary');
      statusIndicator.classList.add('text-accent');

      // Simulate OAuth flow (2-3 seconds)
      setTimeout(() => {
        // Success state
        statusIndicator.innerHTML = `
          <span class="text-green-500 flex items-center gap-1">
            <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
              <path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z"></path>
            </svg>
            Connected
          </span>
        `;

        connectBtn.textContent = 'Connected';
        connectBtn.classList.remove('bg-accent', 'hover:bg-accent/90');
        connectBtn.classList.add('bg-green-600');

        // Update AI narration
        aiNarration.textContent = toolMessages[toolName];

        // Increment counter and check if we can proceed
        connectedCount++;
        if (connectedCount > 0) {
          enableNext();
        }
      }, 2500);
    }

    function enableNext() {
      nextBtn.disabled = false;
      nextBtn.classList.remove('bg-gray-700', 'text-gray-500', 'cursor-not-allowed');
      nextBtn.classList.add('bg-accent', 'hover:bg-accent/90', 'text-white', 'cursor-pointer');
      nextBtn.onclick = () => {
        window.location.href = 'step-5-scanning.html';
      };
    }
  </script>

    <script type="module" src="../demo/init.js"></script>
</body>
</html>
